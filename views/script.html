<script>
    // Récupérer les éléments
    const editButton = document.getElementById("addButton");
    const editModal = document.getElementById("editModal");
    const closeButton = document.querySelector(".close");

    // Ouvrir la fenêtre modale lors du clic sur le bouton Modifier
    editButton.onclick = function () {
        editModal.style.display = "block";
    };

    // Fermer la fenêtre modale lors du clic sur le bouton de fermeture (x)
    closeButton.onclick = function () {
        editModal.style.display = "none";
    };

    // Fermer la fenêtre modale lors du clic en dehors du contenu de la fenêtre modale
    window.onclick = function (event) {
        if (event.target == editModal) {
            editModal.style.display = "none";
        }
    };

    document.addEventListener("DOMContentLoaded", () => {
        const sliders = document.querySelectorAll(".slider");

        sliders.forEach((slider) => {
            slider.addEventListener("wheel", (e) => {
                if (Math.abs(e.deltaX) > Math.abs(e.deltaY)) {
                    e.preventDefault();
                    slider.scrollLeft += e.deltaX;
                }
            });
        });
    });



    /*SEARCH BUTTON*/
    const searchInput = document.getElementById("search");
    const searchButton = document.getElementById("searchButton");

    searchInput.addEventListener("input", () => {
        if (searchInput.value) {
            searchButton.style.display = "block";
        } else {
            searchButton.style.display = "none";
        }
    });

    document.addEventListener("DOMContentLoaded", () => {
        const navLinks = document.querySelectorAll(".navbar a");
        const currentUrl = window.location.pathname;

        navLinks.forEach((link) => {
            if (link.getAttribute("href") === currentUrl) {
                link.classList.add("active");
            }
        });
    });

    window.addEventListener('scroll', function () {
        const header = document.querySelector('nav');
        header.classList.toggle("sticky", window.scrollY > 0);
    });

    document.addEventListener("DOMContentLoaded", () => {
        const sliders = document.querySelectorAll(".slider");
        const arrowLefts = document.querySelectorAll(".arrow-left");
        const arrowRights = document.querySelectorAll(".arrow-right");

        arrowLefts.forEach((arrowLeft, index) => {
            arrowLeft.addEventListener("click", () => {
                sliders[index].scrollBy({ left: -300, behavior: "smooth" });
            });
        });

        arrowRights.forEach((arrowRight, index) => {
            arrowRight.addEventListener("click", () => {
                sliders[index].scrollBy({ left: 300, behavior: "smooth" });
            });
        });
    });


    function updateDaysRemaining() {
        const daysRemainingElements = document.querySelectorAll("p[data-release-date]");


        daysRemainingElements.forEach((element) => {
            const releaseDateString = element.getAttribute("data-release-date");
            const releaseDate = new Date(releaseDateString);

            const currentDate = new Date();
            const timeDifference = releaseDate - currentDate;
            const daysRemaining = Math.ceil(timeDifference / (1000 * 60 * 60 * 24));

            if (daysRemaining > 0) {
                element.textContent = `Sort dans ${daysRemaining} jours`;
                element.style.backgroundColor = '#e4063a';
            } else {
                element.textContent = "Sorti";
                element.style.backgroundColor = '#57c559';
            }
        });
    }


    updateDaysRemaining();


</script>